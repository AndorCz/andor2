---
  import { getData } from '@lib/cache'
	import Layout from '@layouts/layout.astro'
  import GameList from '@components/games/GameList.svelte'

  const { supabase, user } = Astro.locals

  const games = await getData('games', 300, () => supabase.from('game_list').select('*'))
---

<Layout title='Hry'>
  <GameList {user} {games} client:load />
</Layout>
