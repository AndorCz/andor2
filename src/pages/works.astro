---
  import { getData } from '@lib/cache'
	import Layout from '@layouts/layout.astro'
  import WorkList from '@components/works/WorkList.svelte'

  const { supabase, user } = Astro.locals

  const works = await getData('works', 300, () => supabase.from('work_list').select('*'))
---

<Layout title='Tvorba'>
  <WorkList {user} {works} client:load />
</Layout>
