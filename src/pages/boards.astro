---
  import { getData } from '@lib/cache'
	import Layout from '@layouts/layout.astro'
  import BoardList from '@components/boards/BoardList.svelte'

  const { supabase, user } = Astro.locals

  const boards = await getData('boards', 300, () => supabase.from('board_list').select('*'))
---

<Layout title='Diskuze'>
  <BoardList {user} {boards} client:load />
</Layout>
